

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - todo_aspnetmvc_ui</title>
    <link rel="stylesheet" href="~/css/main-page.css" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Noto+Sans&family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <!--link rel="stylesheet" href="~/css/site.css" /-->
</head>
<body class="my-body">
    @RenderBody()
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
        function ChangeTitleTodoList(idLable, idInput) {

            let lable = document.getElementById(idLable);
            let name = document.getElementById(idInput).value;

            lable.innerText = name;
        }
    </script>
    <script>
        function ChangeDone(idCheckBox, idSelect, idTitle, idProgressBar, countTask) {

            let checkBox = document.getElementById(idCheckBox);
            let select = document.getElementById(idSelect).value;
            let title = document.getElementById(idTitle);

            var roundedZero = function (number) {
                return +number.toFixed(0);
            }

            let progressBar = document.getElementById(idProgressBar);
            let countDone = roundedZero(progressBar.ariaValueNow / 100 * countTask);

            if (select == "Completed") {
                checkBox.checked = true;
                title.style.backgroundImage = "linear-gradient(to bottom, transparent calc(50% - 1px), gray, transparent calc(50% + 1px))";
                countDone++;
            }
            else {
                checkBox.checked = false;
                title.style.backgroundImage = "none";
                countDone--;
            }

            var rounded = function (number) {
                return +number.toFixed(2);
            }

            let valueNewPB = rounded(countDone * 100 / countTask);
            progressBar.ariaValueNow = valueNewPB;
            progressBar.innerText = valueNewPB + "%";
            progressBar.setAttribute("style", "width: " + valueNewPB + "%;");
        }
    </script>
    <script>
        function ChangeStatus(idCheckBox, idSelect) {

            let checkBox = document.getElementById(idCheckBox);
            let select = document.getElementById(idSelect);

            if (checkBox.checked == true) {
                select.value = "Completed";
            }
            else if (select.value != "NotStarted") {
                select.value = "InProgress";
            }

            var event = new Event('change');
            select.dispatchEvent(event);
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <script>
        $("input").on("change", function () {
            this.setAttribute(
                "data-date",
                moment(this.value, "YYYY-MM-DD")
                    .format(this.getAttribute("data-date-format"))
            )
        }).trigger("change")
    </script>

    <script>
        $("textarea").each(function () {
            this.setAttribute("style", "height:" + (this.scrollHeight) + "px;overflow-y:hidden;");
        }).on("input", function () {
            this.style.height = 0;
            this.style.height = (this.scrollHeight) + "px";
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    @RenderSection("Scripts", required: false)
</body>
</html>
