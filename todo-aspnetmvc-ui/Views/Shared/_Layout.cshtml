<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - todo_aspnetmvc_ui</title>
    <link rel="stylesheet" href="~/css/main-page.css" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Noto+Sans&family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>
<body class="my-body" id="my-body">
    @RenderBody()
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
        function ChangeTitleTodoList(idLable, idInput) {

            let lable = document.getElementById(idLable);
            let name = document.getElementById(idInput).value;

            lable.innerText = name;
            lable.setAttribute("style", "margin: 0px; color: #007bff;");
        }
    </script>
    <script>
        function ShowHidden(className) {
            let lists = document.getElementsByClassName(className);

            for (i = 0; i < lists.length; i++) {
                lists[i].removeAttribute("hidden");
            }
        }
    </script>
    <script>
        function HideList(idLi, idInput, idSpan, idLiDrop) {
            let li = document.getElementById(idLi);
            let input = document.getElementById(idInput);
            let span = document.getElementById(idSpan);
            let liDrop = document.getElementById(idLiDrop);

            if (liDrop.innerText == "Hide") {
                li.hidden = true;

                span.innerText = "visibility_off";

                liDrop.innerText = "Show";
            }
            else {
                li.hidden = false;

                span.innerText = "visibility";

                liDrop.innerText = "Hide";
            }

            input.click()
        }
    </script>
    <script>
        function ChangeDone(idCheckBox, idSelect, idTitle, idProgressBar, countTask) {

            let checkBox = document.getElementById(idCheckBox);
            let select = document.getElementById(idSelect).value;
            let title = document.getElementById(idTitle);

            if (select == "Completed" && checkBox.checked == false) {
                checkBox.checked = true;
                title.style.backgroundImage = "linear-gradient(to bottom, transparent calc(50% - 1px), gray, transparent calc(50% + 1px))";
            }
            else if ((select == "InProgress" && checkBox.checked == true)
                || (select == "NotStarted" && checkBox.checked == true)) {
                checkBox.checked = false;
                title.style.backgroundImage = "none";
            }

            let statusProgress = document.getElementsByClassName('status-progress');
            let progressBar = document.getElementById(idProgressBar);
            let countDone = 0;

            for (i = 0; i < statusProgress.length; i++) {
                if (statusProgress[i].value == "Completed"){
                    countDone++;
                }
            }

            var roundedZero = function (number) {
                return +number.toFixed(0);
            }

            var rounded = function (number) {
                return +number.toFixed(2);
            }

            let valueNewPB = rounded(roundedZero(countDone) * 100 / countTask);
            progressBar.ariaValueNow = valueNewPB;
            progressBar.innerText = valueNewPB + "%";
            progressBar.setAttribute("style", "width: " + valueNewPB + "%;");
        }
    </script>
    <script>
        function ChangeStatus(idCheckBox, idSelect) {

            let checkBox = document.getElementById(idCheckBox);
            let select = document.getElementById(idSelect);

            if (checkBox.checked == true) {
                select.value = "Completed";
                checkBox.checked = false;
            }
            else if (select.value != "NotStarted") {
                select.value = "InProgress";
                checkBox.checked = true;
            }


            var event = new Event('change');
            select.dispatchEvent(event);

        }
    </script>
    <script>
        $("textarea").each(function () {
            this.setAttribute("style", "height:" + (this.scrollHeight) + "px;overflow-y:hidden;");
        }).on("input", function () {
            this.style.height = 0;
            this.style.height = (this.scrollHeight) + "px";
        });
    </script>
    <script>
        function ChangeStyle() {

            let checkBox = document.getElementById('customSwitch1');
            let label = document.getElementById('labelCustomSwitch1');

            let bgColor = "#222738";
            let myBody = document.getElementById('my-body');
            let header = document.getElementById('header');
            let dropdownListUser = document.getElementById('dropdownListUser');
            let headerA = document.getElementById('headerA');
            let labelCustomSwitch1 = document.getElementById('labelCustomSwitch1');
            let headerName = document.getElementById('headerName');

            let listTitle = document.getElementById('listTitle');
            let listDescription = document.getElementById('listDescription');
            let progress = document.getElementById('progress');

            let tableMain = document.getElementById('tableMain');
            let colDone = document.getElementById('col-done');
            let colTitle = document.getElementById('col-title');
            let colDescription = document.getElementById('col-description');
            let colDueDate = document.getElementById('col-due-date');
            let colCreateDate = document.getElementById('col-create-date');
            let colStatus = document.getElementById('col-status');

            let sideMenu = document.getElementById('sideMenu');
            let c = document.getElementsByClassName('c');
            let cA = document.getElementsByClassName('c-a');
            let cB = document.getElementsByClassName('c-b');

            if (checkBox.checked == true) {
                label.innerText = "Dark Mode";
                myBody.style.backgroundColor = "#222738";
                header.style.backgroundColor = "#30384F";
                header.style.borderColor = "#30384F";
                dropdownListUser.style.backgroundColor = "#30384F";
                headerA.style.color = "#FFFFFF";
                labelCustomSwitch1.style.color = "#FFFFFF";
                headerName.style.color = "#FFFFFF";

                listTitle.style.backgroundColor = "#222738";
                listTitle.style.color = "#FFFFFF";
                listDescription.style.backgroundColor = "#222738";
                listDescription.style.color = "#FFFFFF";
                progress.style.borderWidth = "1px";
                progress.style.backgroundColor = "#222738";

                tableMain.style.backgroundColor = "#30384F";
                colDone.style.color = "#FFFFFF";
                colTitle.style.color = "#FFFFFF";
                colDescription.style.color = "#FFFFFF";
                colDueDate.style.color = "#FFFFFF";
                colCreateDate.style.color = "#FFFFFF";
                colStatus.style.color = "#FFFFFF";
                for (i = 0; i < c.length; i++) {
                    c[i].style.color = "#FFFFFF";
                }
                for (i = 0; i < cB.length; i++) {
                    cB[i].style.color = "#232D42";
                }

                sideMenu.style.backgroundColor = "#30384F";
                sideMenu.style.color = "#FFFFFF";
                for (i = 0; i < cA.length; i++) {
                    cA[i].style.color = "#FFFFFF";
                }
            }
            else {
                label.innerText = "Light Mode";
                myBody.style.backgroundColor = "#F7F7F7";
                header.style.backgroundColor = "#FFFFFF";
                header.style.borderColor = "#E9ECEF";
                dropdownListUser.style.backgroundColor = "#FFF";
                headerA.style.color = "#232D42";
                labelCustomSwitch1.style.color = "#232D42";
                headerName.style.color = "#232D42";

                listTitle.style.backgroundColor = "#F7F7F7";
                listTitle.style.color = "#232D42";
                listDescription.style.backgroundColor = "#F7F7F7";
                listDescription.style.color = "#232D42";
                progress.style.borderWidth = "0px";
                progress.style.backgroundColor = "#E9ECEF";

                tableMain.style.backgroundColor = "#FFFFFF";
                colDone.style.color = "#232D42";
                colTitle.style.color = "#232D42";
                colDescription.style.color = "#232D42";
                colDueDate.style.color = "#232D42";
                colCreateDate.style.color = "#232D42";
                colStatus.style.color = "#232D42";
                for (i = 0; i < c.length; i++) {
                    c[i].style.color = "#232D42";
                }
                for (i = 0; i < cB.length; i++) {
                    cB[i].style.color = "#232D42";
                }

                sideMenu.style.backgroundColor = "#FFFFFF";
                sideMenu.style.color = "#232D42";
                for (i = 0; i < cA.length; i++) {
                    cA[i].style.color = "#232D42";
                }
            }
        }
    </script>
    <script>
        function ChangeMode() {
            let mode = document.getElementById('mode');
            mode.click();
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.min.js"></script>
    <script>
        $("input").on("change", function () {
            this.setAttribute(
                "data-date",
                moment(this.value, "YYYY-MM-DD")
                    .format(this.getAttribute("data-date-format"))
            )
        }).trigger("change")
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
